<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Respuestas | Admin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Outfit", sans-serif;
      }
    </style>
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="{{ url_for('static', filename='flores/img/image.png') }}"
    />

    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="{{ url_for('static', filename='flores/img/image.png') }}"
    />

    <link
      rel="icon"
      type="image/x-icon"
      href="{{ url_for('static', filename='flores/img/image.png') }}"
    />
  </head>

  <body
    class="min-h-screen bg-gradient-to-br from-pink-50 via-rose-50 to-red-50 text-slate-800 selection:bg-rose-200"
  >
    <main class="mx-auto max-w-5xl px-4 py-12">
      <!-- Header -->
      <div class="flex items-center justify-between gap-6 mb-8">
        <div>
          <h1
            class="text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-rose-600 drop-shadow-sm"
          >
            Respuestas üå∏
          </h1>
          <p class="text-rose-400 font-medium text-sm mt-1">
            Panel de administraci√≥n
          </p>
        </div>

        <form method="POST" action="/admin/logout">
          <button
            class="group relative flex items-center gap-2 rounded-full bg-white pl-4 pr-5 py-2.5 text-sm font-bold text-slate-600 shadow-sm ring-1 ring-slate-900/5 transition hover:text-rose-600 hover:shadow-md hover:ring-rose-200"
          >
            <span
              class="h-2 w-2 rounded-full bg-emerald-400 group-hover:bg-rose-400 transition-colors"
            ></span>
            Cerrar Sesi√≥n
          </button>
        </form>
      </div>

      <!-- Table Card -->
      <div
        class="overflow-hidden rounded-3xl border border-white/50 bg-white/80 backdrop-blur-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)]"
      >
        <div class="overflow-x-auto">
          <table class="w-full text-left text-sm">
            <thead
              class="bg-rose-50/50 text-xs font-bold uppercase tracking-wider text-rose-500"
            >
              <tr>
                <th class="px-6 py-4">ID</th>
                <th class="px-6 py-4">Respuesta</th>
                <th class="px-6 py-4">Fecha</th>
                <th class="px-6 py-4">IP</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-rose-50">
              {% for r in rows %}
              <tr class="group hover:bg-rose-50/30 transition-colors">
                <td class="px-6 py-4 font-semibold text-rose-300">
                  #{{ r["id"] }}
                </td>
                <td class="px-6 py-4">
                  {% if r["choice"] == "yes" %}
                  <span
                    class="inline-flex items-center gap-1.5 rounded-full bg-rose-100 px-3 py-1 text-xs font-bold text-rose-600 shadow-sm ring-1 ring-rose-200"
                  >
                    <span>üíñ</span> S√≠, acepto
                  </span>
                  {% else %}
                  <span
                    class="inline-flex items-center gap-1.5 rounded-full bg-slate-100 px-3 py-1 text-xs font-bold text-slate-500 shadow-sm"
                  >
                    <span>‚è≥</span> Tiempo
                  </span>
                  {% endif %}
                </td>
                <td
                  class="px-6 py-4 font-medium text-slate-500 group-hover:text-slate-700"
                >
                  {{ r["created_at"] }}
                </td>
                <td class="px-6 py-4 font-mono text-xs text-slate-400">
                  {{ r["ip"] }}
                </td>
              </tr>
              {% else %}
              <tr>
                <td colspan="4" class="px-6 py-10 text-center text-slate-400">
                  No hay respuestas a√∫n... ü•Ä
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>

      <!-- Footer -->
      <div class="mt-8 text-center">
        <p
          class="text-xs font-semibold text-rose-200 uppercase tracking-widest"
        >
          Hecho con amor
        </p>
      </div>
    </main>
  </body>
</html>
